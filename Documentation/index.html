<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta name="keywords" content="@playform/document"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>black-formatter</title><meta name="description" content="Documentation for black-formatter"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">black-formatter</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>black-formatter</h2></div><div class="tsd-panel tsd-typography"><a id="md:formatter-extension-for-visual-studio-code-using-the-black-formatter" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Formatter extension for Visual Studio Code using the Black formatter<a href="#md:formatter-extension-for-visual-studio-code-using-the-black-formatter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A Visual Studio Code extension with support for the Black formatter. The
extension ships with <code>black=24.4.2</code>.</p>
<blockquote>
<p>Note: The minimum version of Black this extension supports is <code>22.3.0</code>.</p>
</blockquote>
<p>This extension includes support for all
<a href="https://devguide.python.org/#status-of-python-branches">actively supported versions</a>
of the Python language (i.e., Python &gt;= 3.8).</p>
<p>For more information on the Black formatter, see
<a href="https://black.readthedocs.io/en/stable/">https://black.readthedocs.io/en/stable/</a>.</p>
<a id="md:usage-and-features" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage and Features<a href="#md:usage-and-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Black extension for Visual Studio Code provides formatting support for your
Python files. Check out the <a href="#md:settings">Settings section</a> for more details on
how to customize the extension.</p>
<ul>
<li>
<p><strong>Integrated formatting</strong>: Once this extension is installed in VS Code,
Black will be automatically available as a formatter for Python. This is
because the extension ships with a Black binary. You can ensure VS Code uses
Black by default for all your Python files by setting the following in your
User settings (<strong>View</strong> &gt; <strong>Command Palette...</strong> and run <strong>Preferences: Open
User Settings (JSON)</strong>):</p>
<pre><code class="json"><span class="hl-0">  </span><span class="hl-1">&quot;[python]&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;editor.defaultFormatter&quot;</span><span class="hl-0">: </span><span class="hl-1">&quot;ms-python.black-formatter&quot;</span><br/><span class="hl-0">  }</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Format on save</strong>: Automatically format your Python files on save by
setting the <code>editor.formatOnSave</code> setting to <code>true</code> and the
<code>editor.defaultFormatter</code> setting to <code>ms-python.black-formatter</code>. You can
also enable format on save for Python files only by adding the following to
your settings:</p>
<pre><code class="json"><span class="hl-0">  </span><span class="hl-1">&quot;[python]&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;editor.defaultFormatter&quot;</span><span class="hl-0">: </span><span class="hl-1">&quot;ms-python.black-formatter&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;editor.formatOnSave&quot;</span><span class="hl-0">: </span><span class="hl-3">true</span><br/><span class="hl-0">  }</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Customize Black</strong>: You can customize the behavior of Black by setting the
<code>black-formatter.args</code> setting.</p>
</li>
</ul>
<a id="md:disabling-formatting-with-black" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Disabling formatting with Black<a href="#md:disabling-formatting-with-black" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you want to disable Black formatter, you can
<a href="https://code.visualstudio.com/docs/editor/extension-marketplace#_disable-an-extension">disable this extension</a>
per workspace in Visual Studio Code.</p>
<a id="md:settings" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Settings<a href="#md:settings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>There are several settings you can configure to customize the behavior of this
extension.</p>
<table>
  <thead>
    <tr>
      <th>Settings</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>black-formatter.args</td>
      <td><code>[]</code></td>
      <td>Arguments passed to Black to format Python files. Each argument should be provided as a separate string in the array. E.g <code>"black-formatter.args" = ["--config", "&lt;file&gt;"]</code></td>
    </tr>
    <tr>
      <td>black-formatter.cwd</td>
      <td><code>[]</code></td>
      <td>Sets the current working directory used to format Python files with Black. By default, it uses the root directory of the workspace <code>${workspaceFolder}</code>. You can set it to <code>${fileDirname}</code> to use the parent folder of the file being formatted as the working directory for Black.</td>
    </tr>
    <tr>
      <td>black-formatter.path</td>
      <td><code>[]</code></td>
      <td>Path or command to be used by the extension to format Python files with Black. Accepts an array of a single or multiple strings. If passing a command, each argument should be provided as a separate string in the array. If set to <code>["black"]</code>, it will use the version of Black available in the <code>PATH</code> environment variable. Note: Using this option may slowdown formatting. <br> Examples: <br> <code>["~/global_env/black"]</code> <br> <code>["conda", "run", "-n", "lint_env", "python", "-m", "black"]</code></td>
    </tr>
    <tr>
      <td>black-formatter.interpreter</td>
      <td><code>[]</code></td>
      <td>Path to a Python executable or a command that will be used to launch the Black server and any subprocess. Accepts an array of a single or multiple strings. When set to <code>[]</code>, the extension will use the path to the selected Python interpreter. If passing a command, each argument should be provided as a separate string in the array.</td>
    </tr>
    <tr>
      <td>black-formatter.importStrategy</td>
      <td><code>useBundled</code></td>
      <td>
      Defines which Black formatter binary to be used to format Python files. When set to <code>useBundled</code>, the extension will use the Black formatter binary that is shipped with the extension. When set to <code>fromEnvironment</code>, the extension will attempt to use the Black formatter binary and all dependencies that are available in the currently selected environment. **Note**: If the extension can't find a valid Black formatter binary in the selected environment, it will fallback to using the binary that is shipped with the extension. The <code>black-formatter.path</code> setting takes precedence and overrides the behavior of <code>black-formatter.importStrategy</code>.
      </td>
    </tr>
    <tr>
      <td>black-formatter.showNotification</td>
      <td><code>off</code></td>
      <td> Controls when notifications are shown by this extension.  Accepted values are <code>onError</code>, <code>onWarning</code>, <code>always</code> and <code>off</code>.</td>
    </tr>
    <tr>
      <td>black-formatter.serverTransport</td>
      <td><code>stdio</code></td>
      <td> Selects the transport protocol to be used by the Black server. When set to <code>stdio</code>, the extension will use the standard input/output streams to communicate with the Black server. When set to <code>pipe</code>, the extension will use a named pipe (on Windows) or Unix Domain Socket (on Linux/Mac) to communicate with the Black server. The <code>stdio</code> transport protocol is the default and recommended option for most users.</td>
    </tr>
  </tbody>
</table>
<a id="md:commands" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Commands<a href="#md:commands" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
  <thead>
    <tr>
      <th>Command</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Black Formatter: Restart</td>
      <td>Force re-start the format server.</td>
    </tr>
  </tbody>
</table>
<a id="md:logging" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Logging<a href="#md:logging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>From the Command Palette (<strong>View</strong> &gt; <strong>Command Palette ...</strong>), run the
<strong>Developer: Set Log Level...</strong> command. Select <strong>Black Formatter</strong> from the
<strong>Extension logs</strong> group. Then select the log level you want to set.</p>
<p>Alternatively, you can set the <code>black-formatter.trace.server</code> setting to
<code>verbose</code> to get more detailed logs from the Black server. This can be helpful
when filing bug reports.</p>
<p>To open the logs, click on the language status icon (<code>{}</code>) on the bottom right
of the Status bar, next to the Python language mode. Locate the <strong>Black
Formatter</strong> entry and select <strong>Open logs</strong>.</p>
<a id="md:troubleshooting" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Troubleshooting<a href="#md:troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In this section, you will find some common issues you might encounter and how to
resolve them. If you are experiencing any issues that are not covered here,
please
<a href="https://github.com/microsoft/vscode-black-formatter/issues">file an issue</a>.</p>
<ul>
<li>
<p>If the <code>black-formatter.importStrategy</code> setting is set to <code>fromEnvironment</code>
but Black is not found in the selected environment, this extension will
fallback to using the Black binary that is shipped with the extension.
However, if there are dependencies installed in the environment, those
dependencies will be used along with the shipped Black binary. This can lead
to problems if the dependencies are not compatible with the shipped Black
binary.</p>
<p>To resolve this issue, you can:</p>
<ul>
<li>Set the <code>black-formatter.importStrategy</code> setting to <code>useBundled</code> and the
<code>black-formatter.path</code> setting to point to the custom binary of Black
you want to use; or</li>
<li>Install Black in the selected environment.</li>
</ul>
</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:formatter-extension-for-visual-studio-code-using-the-black-formatter"><span>Formatter extension for <wbr/>Visual <wbr/>Studio <wbr/>Code using the <wbr/>Black formatter</span></a><ul><li><a href="#md:usage-and-features"><span>Usage and <wbr/>Features</span></a></li><li><ul><li><a href="#md:disabling-formatting-with-black"><span>Disabling formatting with <wbr/>Black</span></a></li></ul></li><li><a href="#md:settings"><span>Settings</span></a></li><li><a href="#md:commands"><span>Commands</span></a></li><li><a href="#md:logging"><span>Logging</span></a></li><li><a href="#md:troubleshooting"><span>Troubleshooting</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>black-formatter</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
